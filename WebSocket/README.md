

| 웹소켓은 HTTP의 요청-응답 한계를 극복한 양방향 통신 프로토콜입니다.
한 번 연결이 성립되면 클라이언트와 서버가 실시간으로 자유롭게 데이터를 주고받을 수 있어 채팅, 주식 시세, 온라인 게임처럼 낮은 지연과 실시간성이 필요한 서비스에 주로 사용됩니다.


## 웹소켓이란?

HTTP 기반의 프로토콜 위에서 동작하지만, 양방향(Full-duplex) 통신을 지원하는 기술.

기존 HTTP는 요청(request) → 응답(response) 구조라 클라이언트가 항상 먼저 요청해야 했음.

웹소켓은 한 번 연결을 맺으면 클라이언트와 서버가 자유롭게 서로에게 메시지를 보낼 수 있음.

## 동작 방식

1. 핸드셰이크(Handshake)

클라이언트가 HTTP 요청 헤더에 Upgrade: websocket을 포함해 전송.

서버가 이를 수락하면 프로토콜이 HTTP → WebSocket으로 업그레이드.

2. 양방향 데이터 송수신

연결이 유지되는 동안 클라이언트·서버 모두 자유롭게 메시지 전송 가능.

별도의 추가 요청 없이도 서버가 실시간 이벤트를 push 가능.

3. 연결 종료

클라이언트 또는 서버가 close 프레임을 보내면 연결이 종료됨.

## 특징

* 실시간성: 지연(latency)이 낮고 빠른 데이터 교환 가능.

* 지속 연결: 매 요청마다 TCP 연결을 새로 맺을 필요가 없음.

* * 경량 메시지: HTTP 헤더보다 가볍게 프레임 단위로 데이터 전송.

* 프로토콜 독립적: 텍스트(JSON 등)뿐 아니라 바이너리 데이터도 전송 가능.

4. 활용 사례

* 실시간 채팅(카카오톡, 슬랙 등)

* 주식/코인 거래소 실시간 시세

* 온라인 게임(멀티플레이어 상태 동기화)

* IoT 디바이스 제어 및 모니터링

* 협업 툴(문서 공동 편집, 화상 회의 등)

5. 웹소켓 vs 대안 기술
6. 
   | 기술                          | 특징                    | 단점                 |
   | --------------------------- | --------------------- | ------------------ |
   | **HTTP Polling**            | 일정 주기로 서버에 요청         | 불필요한 요청 많아 비효율     |
   | **Long Polling**            | 서버 응답을 지연시켜 "푸시"처럼 사용 | 연결 관리 복잡, 지연 발생    |
   | **SSE(Server-Sent Events)** | 서버 → 클라이언트 단방향 스트림    | 클라이언트 → 서버 전송 불가   |
   | **WebSocket**               | 클라이언트·서버 **양방향** 실시간  | 방화벽/프록시 환경에서 제한 가능 |
